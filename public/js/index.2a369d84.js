(function(t){function e(e){for(var n,s,o=e[0],c=e[1],u=e[2],p=0,f=[];p<o.length;p++)s=o[p],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={index:0},i=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("066e")},"0613":function(t,e,r){"use strict";var n=r("2b0e"),a=r("2f62"),i=(r("13d5"),r("d3b7"),r("ac1f"),r("5319"),r("ddb0"),r("ade3")),s=r("5530"),o=r("3f9b"),c=o.keys(),u=c.reduce((function(t,e){return Object(s["a"])(Object(s["a"])({},t),{},Object(i["a"])({},e.toLocaleLowerCase().replace(/^\.\/([\w-_0-9]+)\.ts$/,"$1"),Object(s["a"])(Object(s["a"])({},o(e).default),{},{namespaced:!0})))}),{}),l=r("0e44");n["default"].use(a["b"]);var p=new a["a"]({modules:u,plugins:[Object(l["a"])({paths:["shop"]})]});e["a"]=p},"066e":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app",attrs:{id:"app"}},[r("b-container",{staticClass:"flex-grow-1"},[r("top-nav"),r("b-overlay",{attrs:{opacity:"0.3",show:t.show,"no-wrap":""}}),r("router-view")],1),r("bottom-nav")],1)},i=[],s=r("d4ec"),o=r("bee2"),c=r("262e"),u=r("2caf"),l=r("9ab4"),p=r("60a3"),f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-navbar",{staticClass:"mb-3 pl-0 pr-0",attrs:{toggleable:"lg",type:"light"}},[r("router-link",{attrs:{to:"/"}},[r("b-navbar-brand",[r("b-navbar-brand",{staticClass:"text-danger d-flex align-items-center"},[r("img",{staticClass:"d-inline-block align-top mr-2",staticStyle:{width:"30px"},attrs:{alt:"Pizza Hot",src:"/assets/pizza.png"}}),t._v(" Pizza Hot ")])],1)],1),r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",{staticClass:"ml-auto align-items-center"},[r("b-badge",{staticClass:"cursor-pointer",attrs:{variant:"dark"},on:{click:function(e){return e.preventDefault(),t.changeCurrency(e)}}},[t._v(t._s(t.currency))]),r("li",{staticClass:"nav-item"},[r("span",{staticClass:"nav-link"},[r("router-link",{staticClass:"cursor-pointer",attrs:{tag:"span",to:"/shop"}},[r("b-avatar",{attrs:{id:"shop",badge:t.count,variant:"none","badge-variant":"warning",icon:"cart"}})],1)],1)]),t.isLoggedIn?r("fragment",[r("li",{staticClass:"nav-item"},[r("span",{staticClass:"nav-link"},[r("router-link",{staticClass:"cursor-pointer",attrs:{tag:"span",to:"/profile"}},[t._v(" Profile ")])],1)]),r("li",{staticClass:"nav-item"},[r("span",{staticClass:"nav-link cursor-pointer",on:{click:t.logout}},[t._v("Log Out")])])]):r("fragment",[r("li",{staticClass:"nav-item"},[r("span",{staticClass:"nav-link"},[r("router-link",{staticClass:"cursor-pointer",attrs:{tag:"span",to:"/login"}},[t._v(" Login ")])],1)]),r("li",{staticClass:"nav-item"},[r("span",{staticClass:"nav-link"},[r("router-link",{staticClass:"cursor-pointer",attrs:{tag:"span",to:"/register"}},[t._v(" Register ")])],1)])])],1)],1)],1)},d=[],h=function(t){Object(c["a"])(r,t);var e=Object(u["a"])(r);function r(){return Object(s["a"])(this,r),e.apply(this,arguments)}return Object(o["a"])(r,[{key:"changeCurrency",value:function(){this.$store.commit("shop/changeCurrency")}},{key:"logout",value:function(){var t=this;this.$store.dispatch("auth/logout").then((function(){t.$router.push("/").catch((function(t){}))}))}},{key:"count",get:function(){return""+this.$store.getters["shop/count"]}},{key:"currency",get:function(){return this.$store.getters["shop/currency"]}},{key:"isLoggedIn",get:function(){return this.$store.getters["auth/isLoggedIn"]}}]),r}(p["e"]);h=Object(l["a"])([p["a"]],h);var m=h,b=m,v=r("2877"),g=Object(v["a"])(b,f,d,!1,null,null,null),y=g.exports,j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("footer",{staticClass:"footer bg-dark mt-2 text-light"},[r("div",{staticClass:"container"},[r("b-navbar",{staticClass:"pl-0 pr-0 justify-content-center justify-content-sm-between",attrs:{toggleable:"lg",type:"light"}},[r("router-link",{attrs:{to:"/"}},[r("b-navbar-brand",[r("b-navbar-brand",{staticClass:"text-light d-flex align-items-center"},[r("img",{staticClass:"d-inline-block align-top mr-2",staticStyle:{width:"30px"},attrs:{alt:"Pizza Hot",src:"/assets/pizza.png"}}),t._v(" Pizza Hot ")])],1)],1),r("b-navbar-nav",{staticClass:"align-items-center"},[r("li",{staticClass:"nav-item"},[r("span",{staticClass:"font-weight-normal"},[t._v("Pizza Hot. Service Delivery Pizza")])])])],1)],1)])},O=[],k=function(t){Object(c["a"])(r,t);var e=Object(u["a"])(r);function r(){return Object(s["a"])(this,r),e.apply(this,arguments)}return r}(p["e"]);k=Object(l["a"])([p["a"]],k);var z=k,_=z,w=Object(v["a"])(_,j,O,!1,null,null,null),x=w.exports,C=function(t){Object(c["a"])(r,t);var e=Object(u["a"])(r);function r(){return Object(s["a"])(this,r),e.apply(this,arguments)}return Object(o["a"])(r,[{key:"show",get:function(){return this.$store.getters["loading/loading"]}}]),r}(p["e"]);C=Object(l["a"])([Object(p["a"])({components:{TopNav:y,BottomNav:x}})],C);var $=C,E=$,P=(r("9214"),Object(v["a"])(E,a,i,!1,null,"9fc8d1b6",null)),R=P.exports,S=r("0613"),L=r("8c4f"),q=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-row",{directives:[{name:"show",rawName:"v-show",value:!t.pizza.length,expression:"!pizza.length"}]},t._l(6,(function(e){return r("loading-pizza",{attrs:{count:t.pizza.length}})})),1),r("b-row",{staticClass:"justify-content-center"},t._l(t.pizza,(function(t){return r("pizza",{key:t.id,attrs:{item:t}})})),1)],1)},N=[],T=(r("d3b7"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-col",{staticClass:"mb-4",attrs:{cols:"12",sm:"6",lg:"4"}},[r("b-card",{staticStyle:{height:"100%"}},[r("b-card-title",{staticClass:"h5"},[t._v(" "+t._s(t.item.name)+" ")]),r("b-card-img",{staticClass:"mb-2",staticStyle:{"max-width":"300px",margin:"auto"},attrs:{alt:t.item.name,src:t.item.image,top:""}}),r("b-card-text",[t._v(" "+t._s(t.item.description)+" ")]),r("b-card-text",{staticClass:"d-flex justify-content-between font-weight-bold"},[r("span",[t._v(t._s(t.item.weight)+" gr.")]),r("span",[t._v(t._s(t.price))])]),r("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[r("quantity",{attrs:{count:t.count},on:{input:function(e){return t.count=e}}}),r("b-avatar",{ref:"floatCart",staticClass:"buy",attrs:{variant:"dark",size:"35",badge:"+"+t.count,"badge-variant":"warning",icon:"cart"}}),r("b-button",{attrs:{disabled:t.process,href:"#",variant:"danger"},on:{click:function(e){return t.buy(t.item.id,e)}}},[t._v("Buy")])],1)],1)],1)}),H=[],D=(r("99af"),r("a9e3"),r("b680"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"quantity"},[r("b-input-group",{staticStyle:{width:"auto"}},[r("b-input-group-prepend",[r("b-btn",{attrs:{variant:"warning"},on:{click:function(e){return t.decrement()}}},[t._v("-")])],1),r("b-input-group-text",{staticClass:"bg-dark text-light"},[t._v(" "+t._s(t.count)+" ")]),r("b-input-group-append",[r("b-btn",{attrs:{variant:"warning"},on:{click:function(e){return t.increment()}}},[t._v("+")])],1)],1)],1)}),I=[],A=function(t){Object(c["a"])(r,t);var e=Object(u["a"])(r);function r(){return Object(s["a"])(this,r),e.apply(this,arguments)}return Object(o["a"])(r,[{key:"increment",value:function(){this.$emit("input",this.count+1)}},{key:"decrement",value:function(){this.count>1&&this.$emit("input",this.count-1)}}]),r}(p["e"]);Object(l["a"])([Object(p["d"])("quantity")],A.prototype,"quantityEl",void 0),Object(l["a"])([Object(p["b"])("input")],A.prototype,"count",void 0),A=Object(l["a"])([p["a"]],A);var Y=A,U=Y,F=(r("5bbf"),Object(v["a"])(U,D,I,!1,null,"17ffe81f",null)),M=F.exports,B=r("1157"),J=r.n(B),Q=r("c4ff"),W=function(t){Object(c["a"])(r,t);var e=Object(u["a"])(r);function r(){var t;return Object(s["a"])(this,r),t=e.apply(this,arguments),t.count=1,t.process=!1,t.product=null,t}return Object(o["a"])(r,[{key:"buy",value:function(t,e){var r,n,a=this,i=e.x,s=e.y,o=J()("#shop"),c=null===(r=o.offset())||void 0===r?void 0:r.left,u=null===(n=o.offset())||void 0===n?void 0:n.top;this.product={id:t,count:this.count},this.floatCartEl.$el.setAttribute("style","display:flex; left: ".concat(i,"px; top: ").concat(s,"px")),this.process=!0,J()(this.floatCartEl.$el).animate({left:c,top:u},1500,(function(){a.floatCartEl.$el.setAttribute("style","display:none"),a.count=1,a.process=!1,a.$store.commit("shop/add",a.product),a.product=null}))}},{key:"beforeDestroy",value:function(){this.product&&(this.$store.commit("shop/add",this.product),J()(this.floatCartEl.$el).stop(!0))}},{key:"price",get:function(){var t=this.$store.getters["shop/currency"],e=t==Q["euro"]?this.item.price_euro:this.item.price_dollar;return Number((this.count*e).toFixed(2))+" "+this.$store.getters["shop/currency"]}}]),r}(p["e"]);Object(l["a"])([Object(p["c"])()],W.prototype,"item",void 0),Object(l["a"])([Object(p["d"])("floatCart")],W.prototype,"floatCartEl",void 0),W=Object(l["a"])([Object(p["a"])({components:{Quantity:M}})],W);var G=W,K=G,V=(r("13a5"),Object(v["a"])(K,T,H,!1,null,"140d30bc",null)),X=V.exports,Z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-col",{attrs:{cols:"12",sm:"6",lg:"4"}},[r("div",{staticClass:"ph-item"},[r("div",{staticClass:"ph-col-12"},[r("div",{staticClass:"ph-row"},[r("div",{staticClass:"ph-col-12 big"})]),r("div",{staticClass:"ph-avatar"})]),r("div",{staticClass:"ph-col-12"}),r("div",{staticClass:"ph-col-12"},[r("div",{staticClass:"ph-row"},[r("div",{staticClass:"ph-col-12"}),r("div",{staticClass:"ph-col-12"}),r("div",{staticClass:"ph-col-12"}),r("div",{staticClass:"ph-col-2"}),r("div",{staticClass:"ph-col-8 empty"}),r("div",{staticClass:"ph-col-2"})])]),r("div",{staticClass:"ph-col-12"},[r("div",{staticClass:"ph-row"},[r("div",{staticClass:"ph-col-2 big"}),r("div",{staticClass:"ph-col-8 empty"}),r("div",{staticClass:"ph-col-2 big"})])])])])},tt=[],et=function(t){Object(c["a"])(r,t);var e=Object(u["a"])(r);function r(){return Object(s["a"])(this,r),e.apply(this,arguments)}return r}(p["e"]);et=Object(l["a"])([p["a"]],et);var rt=et,nt=rt,at=Object(v["a"])(nt,Z,tt,!1,null,null,null),it=at.exports,st=function(t){Object(c["a"])(r,t);var e=Object(u["a"])(r);function r(){return Object(s["a"])(this,r),e.apply(this,arguments)}return Object(o["a"])(r,[{key:"mounted",value:function(){var t=this;this.$store.commit("loading/setLoading",!0),this.$store.dispatch("pizza/get").finally((function(){return t.$store.commit("loading/setLoading",!1)}))}},{key:"pizza",get:function(){return this.$store.getters["pizza/pizza"]}}]),r}(p["e"]);st=Object(l["a"])([Object(p["a"])({components:{Pizza:X,LoadingPizza:it}})],st);var ot=st,ct=ot,ut=Object(v["a"])(ct,q,N,!1,null,null,null),lt=ut.exports,pt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[r("b-form-group",{attrs:{state:t.state("login"),"invalid-feedback":t.error("login")}},[r("b-form-input",{attrs:{placeholder:"Enter login"},model:{value:t.form.login,callback:function(e){t.$set(t.form,"login",e)},expression:"form.login"}})],1),r("b-form-group",{attrs:{state:t.state("password"),"invalid-feedback":t.error("password")}},[r("b-form-input",{attrs:{type:"password",placeholder:"Enter password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),r("b-form-invalid-feedback",{staticClass:"mb-2",attrs:{"force-show":!!t.commonError}},[t._v(t._s(t.commonError))]),r("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Login")])],1)},ft=[],dt=(r("a15b"),function(t){Object(c["a"])(r,t);var e=Object(u["a"])(r);function r(){var t;return Object(s["a"])(this,r),t=e.apply(this,arguments),t.form={login:"",password:""},t.commonError="",t.errors={},t}return Object(o["a"])(r,[{key:"state",value:function(t){return this.errors&&!(t in this.errors)}},{key:"error",value:function(t){return this.errors&&t in this.errors?this.errors[t].join(", "):""}},{key:"login",value:function(){var t=this;this.$store.dispatch("auth/login",this.form).then((function(){return t.$router.push("/").catch((function(t){}))})).catch((function(e){t.errors=e.errors,t.commonError=e.error}))}}]),r}(p["e"]));dt=Object(l["a"])([p["a"]],dt);var ht=dt,mt=ht,bt=Object(v["a"])(mt,pt,ft,!1,null,null,null),vt=bt.exports,gt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-form",{on:{submit:function(e){return e.preventDefault(),t.register(e)}}},[r("b-form-group",{attrs:{label:"Login:","label-for":"input-1",state:t.state("login"),"invalid-feedback":t.error("login")}},[r("b-form-input",{attrs:{id:"input-1",placeholder:"Enter login"},model:{value:t.form.login,callback:function(e){t.$set(t.form,"login",e)},expression:"form.login"}})],1),r("b-form-group",{attrs:{label:"Email address:","label-for":"input-2",description:"We'll never share your email with anyone else.",state:t.state("email"),"invalid-feedback":t.error("email")}},[r("b-form-input",{attrs:{id:"input-2",placeholder:"Enter email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),r("b-form-group",{attrs:{label:"Your Name:","label-for":"input-3",state:t.state("name"),"invalid-feedback":t.error("name")}},[r("b-form-input",{attrs:{id:"input-3",placeholder:"Enter name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),r("b-form-group",{attrs:{label:"Password:","label-for":"input-4",state:t.state("password"),"invalid-feedback":t.error("password")}},[r("b-form-input",{attrs:{id:"input-4",type:"password",placeholder:"Enter password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),r("b-form-group",{attrs:{label:"Password confirmation:","label-for":"input-5",state:t.state("password_confirmation"),"invalid-feedback":t.error("password_confirmation")}},[r("b-form-input",{attrs:{id:"input-5",type:"password",placeholder:"Enter password again"},model:{value:t.form.password_confirmation,callback:function(e){t.$set(t.form,"password_confirmation",e)},expression:"form.password_confirmation"}})],1),r("b-form-invalid-feedback",{staticClass:"mb-2",attrs:{"force-show":!!t.commonError}},[t._v(t._s(t.commonError))]),r("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Register")])],1)},yt=[],jt=function(t){Object(c["a"])(r,t);var e=Object(u["a"])(r);function r(){var t;return Object(s["a"])(this,r),t=e.apply(this,arguments),t.form={name:"",login:"",email:"",password:"",password_confirmation:""},t.commonError="",t.errors={},t}return Object(o["a"])(r,[{key:"state",value:function(t){return!(t in this.errors)}},{key:"error",value:function(t){return t in this.errors?this.errors[t].join(", "):""}},{key:"register",value:function(){var t=this;this.$store.dispatch("auth/register",this.form).then((function(){return t.$router.push("/").catch((function(t){}))})).catch((function(e){t.errors=e.errors,t.commonError=e.error}))}}]),r}(p["e"]);jt=Object(l["a"])([p["a"]],jt);var Ot=jt,kt=Ot,zt=Object(v["a"])(kt,gt,yt,!1,null,null,null),_t=zt.exports,wt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._m(0),t.orders.length?t._e():r("div",[r("span",{staticClass:"h3 text-dark mr-2"},[t._v("History is empty")])]),r("div",{staticClass:"orders"},t._l(t.orders,(function(e,n){return r("div",[r("div",{staticClass:"h3 border-top pt-2 header"},[r("span",[t._v("Order: ")]),r("span",[t._v("#"+t._s(n+1))])]),r("div",{staticClass:"h5 font-weight-light"},[r("span",[t._v("Address: ")]),r("span",[t._v(t._s(e.address))])]),r("div",{staticClass:"h5 font-weight-light"},[r("span",[t._v("Email: ")]),r("span",[t._v(t._s(e.email))])]),r("div",{staticClass:"h5 font-weight-light"},[r("span",[t._v("Name: ")]),r("span",[t._v(t._s(e.name))])]),r("div",{staticClass:"h5 font-weight-light"},[r("span",[t._v("Phone: ")]),r("span",[t._v(t._s(e.phone))])]),r("b-row",{staticClass:"justify-content-start"},t._l(e.pizzas,(function(e){return r("pizza-cart",{key:e.id,attrs:{hide:!0,item:t.getItem(e.pivot)}})})),1)],1)})),0)])},xt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex align-items-center mb-2"},[r("span",{staticClass:"h2 text-danger mr-2"},[t._v("Your history of orders")])])}],Ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.pizza?r("b-row",{class:{remove:t.hide,"m-1":!0},staticStyle:{padding:"1rem",border:"1px solid rgba(0, 0, 0, 0.125)","border-radius":"0.25rem"}},[r("b-col",{staticClass:"mt-2 mt-md-0 mb-3 mb-sm-3 mb-md-2 mb-lg-0 justify-content-center d-flex align-items-center",attrs:{cols:"12",lg:"2",md:"4",order:"2","order-sm":"0",sm:"4"}},[r("b-card-img",{staticStyle:{"max-width":"300px"},attrs:{src:t.pizza.image,alt:"Image"}})],1),r("b-col",{staticClass:"d-flex align-items-center mb-0 mb-sm-3 mb-md-2 mb-lg-0",attrs:{cols:"12",lg:"6",order:"1",sm:"8"}},[r("span",{staticClass:"h3 font-weight-light"},[t._v(t._s(t.pizza.name))])]),r("b-col",{staticClass:"justify-content-around d-flex align-items-center",attrs:{cols:"12",lg:"4",order:"4"}},[t.hide?r("span",{staticClass:"h3 font-weight-light"},[t._v(t._s(t.item.count)+" pcs.")]):t._e(),r("span",{staticClass:"h3 font-weight-light"},[t._v(t._s(t.price))]),t.hide?t._e():r("quantity",{attrs:{count:t.item.count},on:{input:t.input}}),t.hide?t._e():r("b-button",{attrs:{variant:"outline-dark"},on:{click:function(e){return t.remove(t.item.id)}}},[r("b-icon",{attrs:{icon:"dash-square"}})],1)],1)],1):t._e()},$t=[],Et=(r("7db0"),function(t){Object(c["a"])(r,t);var e=Object(u["a"])(r);function r(){return Object(s["a"])(this,r),e.apply(this,arguments)}return Object(o["a"])(r,[{key:"input",value:function(t){var e=this.item.id,r={id:e,count:t};this.$store.commit("shop/updateCount",r)}},{key:"remove",value:function(t){this.$store.commit("shop/remove",t)}},{key:"pizza",get:function(){var t=this,e=this.$store.getters["pizza/pizza"];return e.find((function(e){return e.id==t.item.id}))}},{key:"price",get:function(){var t=this.$store.getters["shop/currency"],e=t==Q["euro"]?this.pizza.price_euro:this.pizza.price_dollar;return Number((this.item.count*e).toFixed(2))+" "+this.$store.getters["shop/currency"]}}]),r}(p["e"]));Object(l["a"])([Object(p["c"])()],Et.prototype,"item",void 0),Object(l["a"])([Object(p["c"])({default:!1})],Et.prototype,"hide",void 0),Et=Object(l["a"])([Object(p["a"])({components:{Quantity:M}})],Et);var Pt=Et,Rt=Pt,St=(r("5f55"),Object(v["a"])(Rt,Ct,$t,!1,null,"2b68feb9",null)),Lt=St.exports,qt=function(t){Object(c["a"])(r,t);var e=Object(u["a"])(r);function r(){return Object(s["a"])(this,r),e.apply(this,arguments)}return Object(o["a"])(r,[{key:"getItem",value:function(t){return{id:t.pizza_id,count:t.count}}},{key:"loadPizza",value:function(){this.$store.dispatch("pizza/get")}},{key:"mounted",value:function(){var t=this;this.$store.commit("loading/setLoading",!0),this.pizza.length||this.loadPizza(),this.$store.dispatch("auth/orders").finally((function(){return t.$store.commit("loading/setLoading",!1)}))}},{key:"orders",get:function(){return this.$store.getters["auth/orders"]}},{key:"pizza",get:function(){return this.$store.getters["pizza/pizza"]}}]),r}(p["e"]);qt=Object(l["a"])([Object(p["a"])({components:{PizzaCart:Lt}})],qt);var Nt=qt,Tt=Nt,Ht=(r("703a"),Object(v["a"])(Tt,wt,xt,!1,null,"0abcb507",null)),Dt=Ht.exports,It=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-jumbotron",{attrs:{header:"404 Not Found",lead:"Oops!"}},[r("p",[t._v("Sorry, an error has occured, Requested page not found!")]),r("router-link",{attrs:{tag:"div",to:"/"}},[r("b-button",{attrs:{variant:"primary"}},[t._v("Go to main page")])],1)],1)],1)},At=[],Yt=function(t){Object(c["a"])(r,t);var e=Object(u["a"])(r);function r(){return Object(s["a"])(this,r),e.apply(this,arguments)}return r}(p["e"]);Yt=Object(l["a"])([p["a"]],Yt);var Ut=Yt,Ft=Ut,Mt=Object(v["a"])(Ft,It,At,!1,null,null,null),Bt=Mt.exports,Jt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-toast",{attrs:{id:"cart-toast",title:"Cart",variant:"dark",solid:"","auto-hide-delay":"1500"},on:{hidden:function(e){return t.redirect()}}},[t._v(" Your order is cleared. You will be redirect. ")]),r("div",{staticClass:"d-flex align-items-center mb-2  "},[r("span",{staticClass:"h2 text-danger mr-2"},[t._v("Your order")]),r("span",{staticClass:"h4 cursor-pointer font-weight-light",staticStyle:{"border-bottom":"2px dashed"},on:{click:t.clear}},[t._v("(Clear order)")])]),t._l(t.items,(function(t){return r("pizza-cart",{key:t.id,attrs:{item:t}})})),r("div",{staticClass:"d-flex justify-content-between mt-3"},[r("span",{staticClass:"h3 text-warning"},[t._v("Total order:")]),r("span",{staticClass:"h3 font-weight-light price"},[t._v(t._s(t.totalPrice))])]),r("hr",{staticClass:"dropdown-divider",attrs:{role:"separator","aria-orientation":"horizontal"}}),r("h2",{staticClass:"text-danger mt-3"},[t._v("Delivery order")]),r("b-form",{on:{submit:function(t){t.stopPropagation(),t.preventDefault()}}},[r("b-form-group",{attrs:{"invalid-feedback":t.error("delivery.address"),state:t.state("delivery.address"),label:"Your address:","label-for":"address"}},[r("b-form-input",{attrs:{id:"address",placeholder:"Enter address"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],1),r("b-row",[r("b-col",{attrs:{cols:"12",lg:"4",sm:"6"}},[r("b-form-group",{attrs:{"invalid-feedback":t.error("delivery.name"),state:t.state("delivery.name"),label:"Your name:","label-for":"name"}},[r("b-form-input",{attrs:{id:"name",placeholder:"Enter name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),r("b-col",{attrs:{cols:"12",lg:"4",sm:"6"}},[r("b-form-group",{attrs:{"invalid-feedback":t.error("delivery.email"),state:t.state("delivery.email"),label:"Your email:","label-for":"email"}},[r("b-form-input",{attrs:{id:"email",placeholder:"Enter email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1)],1),r("b-col",{attrs:{cols:"12",lg:"4",sm:"6"}},[r("b-form-group",{attrs:{"invalid-feedback":t.error("delivery.phone"),state:t.state("delivery.phone"),label:"Your phone:","label-for":"phone"}},[r("b-form-input",{attrs:{id:"phone",placeholder:"Enter phone"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)],1)],1)],1),r("div",{staticClass:"d-flex justify-content-between"},[r("span",{staticClass:"h4 text-dark"},[t._v("Delivery:")]),r("span",{staticClass:"h4 text-dark price"},[t._v("+"+t._s(t.priceDelivery)+" "+t._s(t.currency))])]),r("div",{staticClass:"d-flex justify-content-between"},[r("span",{staticClass:"h3 text-warning font-weight-bold"},[t._v("Total:")]),r("span",{staticClass:"h3 font-weight-light price"},[t._v(t._s(t.total))])]),r("div",{staticClass:"text-center mt-2 mb-3"},[r("b-button",{attrs:{disabled:t.process,size:"lg",squared:"",variant:"outline-danger"},on:{click:t.make}},[t._v("Make order")])],1)],2)},Qt=[],Wt=r("5530"),Gt=function(t){Object(c["a"])(r,t);var e=Object(u["a"])(r);function r(){var t;return Object(s["a"])(this,r),t=e.apply(this,arguments),t.form={address:"",name:"",email:"",phone:""},t.process=!1,t.errors={},t}return Object(o["a"])(r,[{key:"state",value:function(t){return!(t in this.errors)}},{key:"error",value:function(t){return t in this.errors?this.errors[t].join(", "):""}},{key:"make",value:function(){var t=this;this.process=!0,this.$store.dispatch("shop/make",{delivery:this.form,items:this.items}).then((function(){t.redirect(),t.$nextTick((function(){return t.$bvToast.toast("Waiting your order.",{title:"Thanks for order!",variant:"success",autoHideDelay:1500,solid:!0,appendToast:!0})}))})).catch((function(e){t.process=!1,t.errors=e.response.data.errors}))}},{key:"updateCount",value:function(t){t||this.process||this.$bvToast.show("cart-toast")}},{key:"clear",value:function(){this.$store.commit("shop/clear"),this.$bvToast.show("cart-toast")}},{key:"redirect",value:function(){this.$router.push("/").catch((function(t){}))}},{key:"loadPizza",value:function(){this.$store.dispatch("pizza/get")}},{key:"mounted",value:function(){this.pizza.length||this.loadPizza()}},{key:"pizzaOrder",get:function(){var t=this,e=[];if(!this.pizza.length)return[];for(var r=function(r){e.push(Object(Wt["a"])(Object(Wt["a"])({},t.items[r]),t.pizza.find((function(e){return t.items[r].id===e.id}))))},n=0;n<this.items.length;n++)r(n);return e}},{key:"currency",get:function(){return this.$store.getters["shop/currency"]}},{key:"priceDelivery",get:function(){return this.currency==Q["euro"]?2.4:3.6}},{key:"total",get:function(){var t=this.price+this.priceDelivery;return Number(t.toFixed(2))+" "+this.$store.getters["shop/currency"]}},{key:"totalPrice",get:function(){return Number(this.price.toFixed(2))+" "+this.$store.getters["shop/currency"]}},{key:"price",get:function(){for(var t=this.currency==Q["euro"]?"price_euro":"price_dollar",e=0,r=0;r<this.pizzaOrder.length;r++)e+=this.pizzaOrder[r].count*this.pizzaOrder[r][t];return e}},{key:"items",get:function(){return this.$store.getters["shop/order"]}},{key:"pizza",get:function(){return this.$store.getters["pizza/pizza"]}},{key:"count",get:function(){return this.$store.getters["shop/count"]}}]),r}(p["e"]);Object(l["a"])([Object(p["f"])("count")],Gt.prototype,"updateCount",null),Gt=Object(l["a"])([Object(p["a"])({components:{PizzaCart:Lt}})],Gt);var Kt=Gt,Vt=Kt,Xt=Object(v["a"])(Vt,Jt,Qt,!1,null,null,null),Zt=Xt.exports,te=(r("45fc"),r("45eb")),ee=r("7e84"),re=function(){function t(e){Object(s["a"])(this,t),this.action=e}return Object(o["a"])(t,[{key:"process",value:function(){this.action()}},{key:"setNext",value:function(t){return this.nextHandler=t,t}},{key:"next",value:function(t){if(this.nextHandler)return this.nextHandler.next(t)}}]),t}(),ne=function(t){Object(c["a"])(r,t);var e=Object(u["a"])(r);function r(){return Object(s["a"])(this,r),e.apply(this,arguments)}return Object(o["a"])(r,[{key:"next",value:function(t){t.matched.some((function(t){return t.meta.forceAfterAuth}))&&S["a"].getters["auth/isLoggedIn"]?this.process():Object(te["a"])(Object(ee["a"])(r.prototype),"next",this).call(this,t)}}]),r}(re),ae=function(t){Object(c["a"])(r,t);var e=Object(u["a"])(r);function r(){return Object(s["a"])(this,r),e.apply(this,arguments)}return Object(o["a"])(r,[{key:"next",value:function(t){!t.matched.some((function(t){return t.meta.requiresAuth}))||S["a"].getters["auth/isLoggedIn"]?Object(te["a"])(Object(ee["a"])(r.prototype),"next",this).call(this,t):this.process()}}]),r}(re),ie=function(t){Object(c["a"])(r,t);var e=Object(u["a"])(r);function r(){return Object(s["a"])(this,r),e.apply(this,arguments)}return Object(o["a"])(r,[{key:"next",value:function(t){this.process()}}]),r}(re),se=function(t){Object(c["a"])(r,t);var e=Object(u["a"])(r);function r(){return Object(s["a"])(this,r),e.apply(this,arguments)}return Object(o["a"])(r,[{key:"next",value:function(t){t.matched.some((function(t){return"/shop"==t.path}))&&!S["a"].getters["shop/count"]?this.process():Object(te["a"])(Object(ee["a"])(r.prototype),"next",this).call(this,t)}}]),r}(re),oe="Pizza Hot",ce=[{path:"/",name:"Home",component:lt,meta:{title:oe}},{path:"/login",name:"login",component:vt,meta:{title:oe+": Login page",forceAfterAuth:!0}},{path:"/register",name:"register",component:_t,meta:{title:oe+": Register page",forceAfterAuth:!0}},{path:"/shop",name:"shop",component:Zt,meta:{title:oe+": Cart"}},{path:"/profile",name:"profile",component:Dt,meta:{title:oe+": Profile page",requiresAuth:!0}},{path:"*",component:Bt,meta:{title:oe+": Not found"}}];n["default"].use(L["a"]);var ue=new L["a"]({mode:"history",base:"/",routes:ce});function le(t,e,r){ue.app.$nextTick((function(){return ue.app.$bvToast.toast(e,{title:r,variant:"dark",solid:!0})})),ue.push(t).catch((function(t){}))}ue.afterEach((function(t,e){ue.app.$nextTick((function(){document.title=t.meta.title?t.meta.title:oe}))})),ue.beforeEach((function(t,e,r){var n=new ae((function(){return le("/login","Redirect to auth","You are not auth")})),a=new ne((function(){return le("/","Redirect to main page","You are auth")})),i=new se((function(){return le("/","Redirect to main page","You don't have product in cart")})),s=new ie(r);n.setNext(a),a.setNext(i),i.setNext(s),n.next(t)}));var pe=ue,fe=(r("f9e3"),r("2dd8"),r("8604"),r("5f5b")),de=r("b1e0"),he=r("3f08");r("20c9"),r("79f6");n["default"].use(fe["a"]),n["default"].use(de["a"]),n["default"].use(he["a"]),n["default"].config.productionTip=!1;var me=new n["default"]({router:pe,store:S["a"],render:function(t){return t(R)}});me.$mount("#app")},"13a5":function(t,e,r){"use strict";var n=r("b7c4"),a=r.n(n);a.a},"20c9":function(t,e,r){},"3f9b":function(t,e,r){var n={"./auth.ts":"cdd0","./loading.ts":"7031","./pizza.ts":"4c42","./shop.ts":"c4ff"};function a(t){var e=i(t);return r(e)}function i(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=i,t.exports=a,a.id="3f9b"},"4a00":function(t,e,r){},"4c42":function(t,e,r){"use strict";r.r(e);r("96cf");var n=r("1da1"),a=r("2909"),i=r("79f6"),s=r("60a3");e["default"]={state:{pizza:[]},getters:{pizza:function(t){return t.pizza}},mutations:{setPizza:function(t,e){s["e"].set(t,"pizza",Object(a["a"])(e))}},actions:{get:function(t){return Object(n["a"])(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,i["a"].get("pizza");case 3:n=e.sent,a=n.data,r("setPizza",a);case 6:case"end":return e.stop()}}),e)})))()}}}},"527e":function(t,e,r){},"5bbf":function(t,e,r){"use strict";var n=r("9636"),a=r.n(n);a.a},"5f55":function(t,e,r){"use strict";var n=r("4a00"),a=r.n(n);a.a},7031:function(t,e,r){"use strict";r.r(e),e["default"]={state:{loading:!1},getters:{loading:function(t){return t.loading}},mutations:{setLoading:function(t,e){t.loading=e}},actions:{}}},"703a":function(t,e,r){"use strict";var n=r("527e"),a=r.n(n);a.a},"79f6":function(t,e,r){"use strict";r("99af"),r("96cf");var n=r("1da1"),a=r("d4ec"),i=r("bee2"),s=r("bc3a"),o=r.n(s),c=r("0613"),u=function(){function t(){var e;Object(a["a"])(this,t),this.instance=o.a.create(),this.baseUrl=null!==(e="/api/")&&void 0!==e?e:"/",this.token="",this.instance.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("token")}return Object(i["a"])(t,[{key:"setHeader",value:function(t){this.token=t,localStorage.setItem("token",t),this.instance.defaults.headers.common["Authorization"]="Bearer "+t}},{key:"handleRequest",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t["catch"](0),t.t0.response&&401===t.t0.response.status&&c["a"].commit("auth/logout"),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"post",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.handleRequest(this.instance.post("".concat(this.baseUrl).concat(e),r,n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(e,r,n){return t.apply(this,arguments)}return e}()},{key:"get",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.handleRequest(this.instance.get("".concat(this.baseUrl).concat(e),r));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"delete",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.handleRequest(this.instance.delete("".concat(this.baseUrl).concat(e),r));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"patch",value:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,r,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.handleRequest(this.instance.patch("".concat(this.baseUrl).concat(e),r,n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));function e(e,r,n){return t.apply(this,arguments)}return e}()}]),t}(),l=new u;e["a"]=l},9214:function(t,e,r){"use strict";var n=r("d7d3"),a=r.n(n);a.a},9636:function(t,e,r){},b7c4:function(t,e,r){},c4ff:function(t,e,r){"use strict";r.r(e),r.d(e,"euro",(function(){return i})),r.d(e,"dollar",(function(){return s}));r("4de4"),r("c740"),r("13d5"),r("d3b7");var n=r("60a3"),a=r("79f6"),i="€",s="$";e["default"]={state:{order:[],currency:i},getters:{order:function(t){return t.order},count:function(t){return t.order.reduce((function(t,e){return{count:t.count+e.count}}),{count:0}).count},currency:function(t){return t.currency}},mutations:{add:function(t,e){var r=t.order.findIndex((function(t){return t.id==e.id}));-1==r?t.order.push({id:e.id,count:e.count}):n["e"].set(t.order[r],"count",t.order[r].count+e.count)},updateCount:function(t,e){var r=e.id,a=e.count,i=t.order.findIndex((function(t){return t.id==r}));-1!=i&&n["e"].set(t.order[i],"count",a)},remove:function(t,e){n["e"].set(t,"order",t.order.filter((function(t){return t.id!=e})))},clear:function(t){n["e"].set(t,"order",[])},changeCurrency:function(t){t.currency=t.currency===i?s:i}},actions:{make:function(t,e){var r=t.commit;return new Promise((function(t,n){a["a"].post("order/make",e).then((function(e){t(e),r("clear")})).catch((function(t){n(t)}))}))}}}},cdd0:function(t,e,r){"use strict";r.r(e);r("d3b7");var n=r("79f6"),a=r("60a3");e["default"]={state:{token:localStorage.getItem("token"),status:"",orders:[]},getters:{isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status},orders:function(t){return t.orders}},mutations:{setOrders:function(t,e){a["e"].set(t,"orders",e)},authRequest:function(t){t.status="loading"},authSuccess:function(t,e){t.status="success",t.token=e,n["a"].setHeader(e)},authError:function(t){t.status="error",t.token=""},logout:function(t){t.status="",t.token="",n["a"].setHeader("")}},actions:{orders:function(t){var e=t.commit;return new Promise((function(t,r){n["a"].get("order/get").then((function(r){e("setOrders",r.data),t(r)})).catch((function(t){r(t)}))}))},register:function(t,e){var r=t.commit;return new Promise((function(t,a){r("authRequest"),n["a"].post("users/register",e).then((function(e){r("authSuccess",e.data.token),t()})).catch((function(t){r("authError",t),a(t)}))}))},login:function(t,e){var r=t.commit;return new Promise((function(t,a){r("authRequest"),n["a"].post("users/login",e).then((function(e){r("authSuccess",e.data.token),t()})).catch((function(t){r("authError",t),a(t)}))}))},logout:function(t){var e=t.commit;return new Promise((function(t,r){n["a"].get("users/logout").then((function(r){r.data;e("logout"),t()})).catch((function(t){e("authError",t),r(t)}))}))}}}},d7d3:function(t,e,r){}});
//# sourceMappingURL=index.2a369d84.js.map